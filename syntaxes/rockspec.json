{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Rockspec",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#rockspec-fields"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#numbers"
    },
    {
      "include": "#constants"
    },
    {
      "include": "#operators"
    },
    {
      "include": "#tables"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-dash.rockspec",
          "match": "--.*$"
        },
        {
          "name": "comment.block.rockspec",
          "begin": "--\\[\\[",
          "end": "\\]\\]"
        }
      ]
    },
    "rockspec-fields": {
      "patterns": [
        {
          "name": "keyword.other.rockspec.metadata",
          "match": "\\b(rockspec_format|package|version)\\b"
        },
        {
          "name": "keyword.other.rockspec.description",
          "match": "\\b(description|summary|detailed|homepage|issues_url|labels)\\b"
        },
        {
          "name": "keyword.other.rockspec.people",
          "match": "\\b(license|maintainer|author)\\b"
        },
        {
          "name": "keyword.other.rockspec.source",
          "match": "\\b(source)\\b"
        },
        {
          "name": "support.variable.rockspec.source-field",
          "match": "(?<=source\\s*=\\s*\\{[^}]*\\b)(url|tag|branch|md5|sha1|sha256|sha512|file|dir|module|cvs_tag|cvs_module)\\b"
        },
        {
          "name": "keyword.other.rockspec.dependencies",
          "match": "\\b(dependencies|build_dependencies|test_dependencies)\\b"
        },
        {
          "name": "keyword.other.rockspec.build",
          "match": "\\b(build)\\b"
        },
        {
          "name": "support.variable.rockspec.build-field",
          "match": "(?<=build\\s*=\\s*\\{[^}]*\\b)(type|modules|install|copy_directories|platforms|patches|build_command|install_command|build_target|build_pass|build_variables|install_variables|variables|incdirs|libdirs|libraries)\\b"
        },
        {
          "name": "constant.language.rockspec.build-type",
          "match": "\\b(builtin|make|cmake|command|module|none)\\b"
        },
        {
          "name": "keyword.other.rockspec.test",
          "match": "\\b(test|test_dependencies)\\b"
        },
        {
          "name": "support.variable.rockspec.test-field",
          "match": "(?<=test\\s*=\\s*\\{[^}]*\\b)(type|command|flags|script)\\b"
        },
        {
          "name": "keyword.other.rockspec.platforms",
          "match": "\\b(supported_platforms)\\b"
        },
        {
          "name": "keyword.other.rockspec.external",
          "match": "\\b(external_dependencies)\\b"
        },
        {
          "name": "support.variable.rockspec.external-field",
          "match": "(?<=external_dependencies\\s*=\\s*\\{[^}]*\\b)(header|library|program)\\b"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.rockspec",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.rockspec",
              "match": "\\\\[\"'\\\\nrtbfav]"
            },
            {
              "name": "constant.character.escape.rockspec",
              "match": "\\\\\\d{1,3}"
            },
            {
              "name": "constant.character.escape.rockspec",
              "match": "\\\\x[0-9a-fA-F]{2}"
            },
            {
              "include": "#version-constraint"
            },
            {
              "include": "#url-pattern"
            }
          ]
        },
        {
          "name": "string.quoted.single.rockspec",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.rockspec",
              "match": "\\\\[\"'\\\\nrtbfav]"
            },
            {
              "include": "#version-constraint"
            },
            {
              "include": "#url-pattern"
            }
          ]
        },
        {
          "name": "string.quoted.other.multiline.rockspec",
          "begin": "\\[\\[",
          "end": "\\]\\]"
        },
        {
          "name": "string.quoted.other.multiline.rockspec",
          "begin": "\\[=+\\[",
          "end": "\\]=+\\]"
        }
      ]
    },
    "version-constraint": {
      "patterns": [
        {
          "name": "keyword.operator.version.rockspec",
          "match": "(>=|<=|==|~=|~>|>|<)"
        },
        {
          "name": "constant.numeric.version.rockspec",
          "match": "\\d+(\\.\\d+)*(-\\d+)?"
        }
      ]
    },
    "url-pattern": {
      "patterns": [
        {
          "name": "constant.other.placeholder.rockspec",
          "match": "\\$\\(version\\)|\\$\\(tag\\)|\\$\\(module\\)"
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.rockspec",
          "match": "\\b\\d+(\\.\\d+)*\\b"
        }
      ]
    },
    "constants": {
      "patterns": [
        {
          "name": "constant.language.boolean.rockspec",
          "match": "\\b(true|false)\\b"
        },
        {
          "name": "constant.language.nil.rockspec",
          "match": "\\bnil\\b"
        },
        {
          "name": "constant.language.platform.rockspec",
          "match": "\\b(unix|windows|macosx|linux|freebsd|openbsd|netbsd|solaris|cygwin|msys|mingw|win32)\\b"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.assignment.rockspec",
          "match": "="
        },
        {
          "name": "punctuation.separator.rockspec",
          "match": ","
        }
      ]
    },
    "tables": {
      "patterns": [
        {
          "name": "punctuation.definition.table.begin.rockspec",
          "match": "\\{"
        },
        {
          "name": "punctuation.definition.table.end.rockspec",
          "match": "\\}"
        }
      ]
    }
  },
  "scopeName": "source.rockspec"
}
